<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Dashboard - Mini Project</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="https://api.escuelajs.co/favicon.ico">
</head>
<body>
    <div class="container-fluid px-4 py-3">
        <!-- Header -->
        <header class="mb-4">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <div>
                    <h1 class="h2 mb-1">
                        <i class="fas fa-cube me-2 text-primary"></i>Product Dashboard
                    </h1>
                    <p class="text-muted mb-0">
                        <i class="fas fa-database me-1"></i>Manage products from Fake Store API
                    </p>
                </div>
                <div class="text-end">
                    <div class="badge bg-info fs-6 p-2">
                        <i class="fas fa-sync-alt me-1"></i>Live Data
                    </div>
                </div>
            </div>
            
            <!-- Stats Cards -->
            <div class="row g-3 mb-4">
                <div class="col-md-3">
                    <div class="card border-primary border-2">
                        <div class="card-body py-3">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="card-subtitle text-muted">Total Products</h6>
                                    <h4 class="card-title mb-0" id="total-products-count">0</h4>
                                </div>
                                <div class="bg-primary bg-opacity-10 p-3 rounded-circle">
                                    <i class="fas fa-boxes text-primary fa-lg"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card border-success border-2">
                        <div class="card-body py-3">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="card-subtitle text-muted">Avg Price</h6>
                                    <h4 class="card-title mb-0" id="avg-price">$0</h4>
                                </div>
                                <div class="bg-success bg-opacity-10 p-3 rounded-circle">
                                    <i class="fas fa-dollar-sign text-success fa-lg"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card border-warning border-2">
                        <div class="card-body py-3">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="card-subtitle text-muted">Categories</h6>
                                    <h4 class="card-title mb-0" id="categories-count">0</h4>
                                </div>
                                <div class="bg-warning bg-opacity-10 p-3 rounded-circle">
                                    <i class="fas fa-tags text-warning fa-lg"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card border-info border-2">
                        <div class="card-body py-3">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="card-subtitle text-muted">Active Page</h6>
                                    <h4 class="card-title mb-0" id="active-page">1</h4>
                                </div>
                                <div class="bg-info bg-opacity-10 p-3 rounded-circle">
                                    <i class="fas fa-file-alt text-info fa-lg"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Toolbar with search, dropdown, and buttons -->
        <div class="card shadow-sm mb-4 border-0 bg-gradient-primary">
            <div class="card-body">
                <div class="row g-3 align-items-center">
                    <div class="col-lg-4 col-md-6">
                        <div class="input-group input-group-lg">
                            <span class="input-group-text bg-white border-end-0">
                                <i class="fas fa-search text-primary"></i>
                            </span>
                            <input type="text" id="search-input" class="form-control border-start-0" placeholder="Search products by title, category, or description...">
                            <button class="btn btn-outline-secondary" type="button" id="clear-search" title="Clear search">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3">
                        <div class="input-group">
                            <span class="input-group-text bg-white">
                                <i class="fas fa-list-ol text-primary"></i>
                            </span>
                            <select id="rows-per-page" class="form-select">
                                <option value="5">5 rows</option>
                                <option value="10" selected>10 rows</option>
                                <option value="20">20 rows</option>
                                <option value="50">50 rows</option>
                                <option value="100">100 rows</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-3 text-end">
                        <div class="btn-group" role="group">
                            <button class="btn btn-primary btn-lg" id="btn-create">
                                <i class="fas fa-plus-circle me-2"></i> Create New
                            </button>
                            <button class="btn btn-success btn-lg" id="btn-export">
                                <i class="fas fa-file-export me-2"></i> Export CSV
                            </button>
                            <button class="btn btn-outline-secondary btn-lg" id="btn-refresh" title="Refresh data">
                                <i class="fas fa-redo"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-12">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" id="filter-in-stock" checked>
                            <label class="form-check-label" for="filter-in-stock">
                                <i class="fas fa-check-circle text-success me-1"></i>In stock
                            </label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" id="filter-on-sale">
                            <label class="form-check-label" for="filter-on-sale">
                                <i class="fas fa-tag text-warning me-1"></i>On sale
                            </label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" id="filter-featured">
                            <label class="form-check-label" for="filter-featured">
                                <i class="fas fa-star text-info me-1"></i>Featured
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Table -->
        <div class="card shadow-sm border-0">
            <div class="card-header bg-white border-bottom-0 pb-0">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="mb-1">
                            <i class="fas fa-table me-2 text-primary"></i>Product List
                        </h5>
                        <p class="text-muted small mb-0">
                            <span class="badge bg-primary rounded-pill me-2" id="product-count">0</span> products found
                            <span class="mx-2">â€¢</span>
                            Sorted by: <span class="fw-medium" id="sort-indicator">ID (default)</span>
                        </p>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-secondary btn-sm" id="btn-table-view">
                            <i class="fas fa-th-large"></i>
                        </button>
                        <button type="button" class="btn btn-outline-secondary btn-sm active" id="btn-list-view">
                            <i class="fas fa-list"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="table-light">
                            <tr>
                                <th width="5%" class="ps-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="select-all">
                                    </div>
                                </th>
                                <th width="5%">
                                    ID
                                    <i class="fas fa-sort ms-1 sort-icon" data-column="id" title="Sort by ID"></i>
                                </th>
                                <th width="25%">
                                    Product
                                    <i class="fas fa-sort ms-1 sort-icon" data-column="title" title="Sort by title"></i>
                                </th>
                                <th width="10%">
                                    Price
                                    <i class="fas fa-sort ms-1 sort-icon" data-column="price" title="Sort by price"></i>
                                </th>
                                <th width="15%">
                                    Category
                                    <i class="fas fa-sort ms-1 sort-icon" data-column="category" title="Sort by category"></i>
                                </th>
                                <th width="15%">Images</th>
                                <th width="10%">Status</th>
                                <th width="15%" class="pe-4">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="product-table-body">
                            <!-- Data will be inserted by JavaScript -->
                            <tr id="loading-row">
                                <td colspan="8" class="text-center py-5">
                                    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                    <p class="mt-3 mb-0 fs-5">Loading products from API...</p>
                                    <p class="text-muted small">Fetching data from Fake Store API</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Pagination -->
            <div class="card-footer bg-white border-top">
                <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
                    <div class="mb-2 mb-md-0">
                        <div class="d-flex align-items-center">
                            <span class="text-muted me-3">Show:</span>
                            <select class="form-select form-select-sm w-auto" id="rows-per-page-bottom">
                                <option value="5">5</option>
                                <option value="10" selected>10</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                            </select>
                            <span class="text-muted ms-3">
                                <span id="page-start">0</span>-<span id="page-end">0</span> of <span id="total-items">0</span> products
                            </span>
                        </div>
                    </div>
                    
                    <nav aria-label="Page navigation">
                        <ul class="pagination pagination-sm mb-0" id="pagination">
                            <li class="page-item disabled" id="first-page">
                                <a class="page-link" href="#" aria-label="First">
                                    <span aria-hidden="true">&laquo;&laquo;</span>
                                </a>
                            </li>
                            <li class="page-item disabled" id="prev-page">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            
                            <!-- Page numbers will be dynamically inserted here -->
                            <li class="page-item active">
                                <a class="page-link" href="#">1</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#">2</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#">3</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#">4</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#">5</a>
                            </li>
                            
                            <li class="page-item" id="next-page">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                            <li class="page-item" id="last-page">
                                <a class="page-link" href="#" aria-label="Last">
                                    <span aria-hidden="true">&raquo;&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    
                    <div class="mt-2 mt-md-0">
                        <div class="input-group input-group-sm">
                            <span class="input-group-text">Go to</span>
                            <input type="number" class="form-control" id="page-jump" min="1" value="1" style="width: 70px;">
                            <button class="btn btn-outline-primary" type="button" id="btn-go-page">Go</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-4 text-center text-muted small">
            <p class="mb-1">Mini Project - Frontend Dashboard using <a href="https://fakeapi.platzi.com/" target="_blank">Fake Store API</a></p>
            <p class="mb-0">Built with Bootstrap 5, FontAwesome, and vanilla JavaScript</p>
        </footer>
    </div>

    <!-- Product Detail Modal -->
    <div class="modal fade" id="detailModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-info-circle me-2"></i>Product Details
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="detail-content">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="card border-0">
                                <div id="product-images" class="carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-inner rounded" id="detail-carousel">
                                        <!-- Images will be dynamically added -->
                                    </div>
                                    <button class="carousel-control-prev" type="button" data-bs-target="#product-images" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#product-images" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                </div>
                                <div class="mt-3 text-center">
                                    <span class="badge bg-success fs-6 p-2" id="detail-price">$0.00</span>
                                    <span class="badge bg-info ms-2 fs-6 p-2" id="detail-category">Category</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-7">
                            <h4 id="detail-title" class="mb-3">Product Title</h4>
                            <div class="mb-4">
                                <h6 class="text-muted mb-2">Description</h6>
                                <p id="detail-description" class="mb-0">No description available.</p>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body py-3">
                                            <h6 class="card-subtitle text-muted mb-1">Product ID</h6>
                                            <h5 class="card-title mb-0" id="detail-id">0</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body py-3">
                                            <h6 class="card-subtitle text-muted mb-1">Slug</h6>
                                            <h5 class="card-title mb-0" id="detail-slug">slug</h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <h6 class="text-muted mb-2">Additional Information</h6>
                                <div class="table-responsive">
                                    <table class="table table-sm table-borderless">
                                        <tbody>
                                            <tr>
                                                <td width="40%"><strong>Creation Date:</strong></td>
                                                <td id="detail-creation">Unknown</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Last Updated:</strong></td>
                                                <td id="detail-updated">Unknown</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Status:</strong></td>
                                                <td><span class="badge bg-success" id="detail-status">Active</span></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Images Count:</strong></td>
                                                <td><span class="badge bg-info" id="detail-images-count">0</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-1"></i> Close
                    </button>
                    <button type="button" class="btn btn-primary" id="btn-edit-from-detail">
                        <i class="fas fa-edit me-1"></i> Edit Product
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create/Edit Product Modal -->
    <div class="modal fade" id="formModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="formModalTitle">
                        <i class="fas fa-plus-circle me-2"></i>Create New Product
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <form id="product-form">
                    <div class="modal-body">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="form-title" class="form-label">Product Title *</label>
                                <input type="text" class="form-control" id="form-title" required placeholder="Enter product title">
                                <div class="form-text">The name of your product</div>
                            </div>
                            <div class="col-md-6">
                                <label for="form-price" class="form-label">Price *</label>
                                <div class="input-group">
                                    <span class="input-group-text">$</span>
                                    <input type="number" class="form-control" id="form-price" required min="0" step="0.01" placeholder="0.00">
                                </div>
                                <div class="form-text">Product price in USD</div>
                            </div>
                            <div class="col-12">
                                <label for="form-description" class="form-label">Description</label>
                                <textarea class="form-control" id="form-description" rows="3" placeholder="Enter product description"></textarea>
                                <div class="form-text">Detailed description of the product</div>
                            </div>
                            <div class="col-md-6">
                                <label for="form-category" class="form-label">Category *</label>
                                <select class="form-select" id="form-category" required>
                                    <option value="" selected disabled>Select a category</option>
                                    <option value="1">Clothes</option>
                                    <option value="2">Electronics</option>
                                    <option value="3">Furniture</option>
                                    <option value="4">Shoes</option>
                                    <option value="5">Others</option>
                                </select>
                                <div class="form-text">Product category</div>
                            </div>
                            <div class="col-md-6">
                                <label for="form-images" class="form-label">Image URLs</label>
                                <div id="image-urls-container">
                                    <div class="input-group mb-2">
                                        <input type="url" class="form-control" placeholder="https://example.com/image.jpg">
                                        <button type="button" class="btn btn-outline-danger btn-remove-image" disabled>
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-sm btn-outline-primary" id="btn-add-image">
                                    <i class="fas fa-plus me-1"></i> Add Image URL
                                </button>
                                <div class="form-text">Add at least one image URL for the product</div>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="form-featured">
                                    <label class="form-check-label" for="form-featured">
                                        Featured Product
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="form-in-stock" checked>
                                    <label class="form-check-label" for="form-in-stock">
                                        In Stock
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="alert alert-info mt-3 mb-0">
                            <i class="fas fa-info-circle me-2"></i>
                            Fields marked with * are required. This form will create/update products via the Fake Store API.
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                            <i class="fas fa-times me-1"></i> Cancel
                        </button>
                        <button type="submit" class="btn btn-primary" id="btn-submit-form">
                            <i class="fas fa-save me-1"></i> Save Product
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-exclamation-triangle me-2"></i>Confirm Delete
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this product?</p>
                    <div class="alert alert-warning mb-0">
                        <i class="fas fa-warning me-2"></i>
                        This action cannot be undone. The product will be permanently removed from the system.
                    </div>
                    <input type="hidden" id="delete-product-id">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-1"></i> Cancel
                    </button>
                    <button type="button" class="btn btn-danger" id="btn-confirm-delete">
                        <i class="fas fa-trash me-1"></i> Delete Product
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>